<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CADALOC Interactive Project Archive</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body { margin: 0; font-family: 'Inter', sans-serif; background: #f4f4f4; color: #333; }
    .header { padding: 20px; background: #0073e6; color: white; text-align: center; }
    .title { font-size: 36px; font-weight: 600; }
    .content { max-width: 900px; margin: 40px auto; padding: 20px; background: #fff; border-radius: 10px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); }
    .section { margin: 30px 0; }
    .section h2 { border-bottom: 2px solid #0073e6; padding-bottom: 5px; }
    .footer { text-align: center; }
    .link { color: #0073e6; text-decoration: none; font-weight: 600; }
    .link:hover { text-decoration: underline; }
    .viewer-container, .mesh-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }
    .viewer, .mesh {
      width: 300px;
      height: 300px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      position: relative; /*  Important for canvas positioning */
    }
    .model-unit {
      display: flex;              /* Makes .model-unit a flex container */
      flex-direction: column;  /* Stacks elements vertically (model above text) */
      align-items: center;      /* Centers elements horizontally within .model-unit */
      text-align: center;      /* Centers text content within .model-unit */
    }
    .model-title { font-weight: 600; }
    .model-description { margin: 5px 0; }
    .download-button {
      display: inline-block;
      padding: 10px 15px;
      fontSize: 16px;
      font-weight: 600;
      color: white;
      background-color: #0073e6;
      border: none;
      border-radius: 5px;
      text-decoration: none;
      text-align: center;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    .download-button:hover {
      background-color: #005bb5;
    }

    /*  Crucial CSS for Gaussian Splat Canvas */
    .viewer canvas {
      width: 100%;
      height: 100%;
      position: absolute;  /* Take it out of the normal flow */
      top: 0;
      left: 0;
    }
  </style>
  <script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@0.128.0/build/three.module.js",
        "three/examples/jsm/loaders/GLTFLoader.js": "https://unpkg.com/three@0.128.0/examples/jsm/loaders/GLTFLoader.js",
        "three/examples/jsm/controls/OrbitControls.js": "https://unpkg.com/three@0.128.0/examples/jsm/controls/OrbitControls.js"
      }
    }
  </script>
</head>
<body>
  <div class="header">
    <h1 class="title">CADALOC Interactive Project Archive</h1>
  </div>
  <div class="content">
    <div class="section">
      <h2>About the Project</h2>
      <p>CADALOC is an acronym for <strong>archaeothanatologiCAl re-evaluation of the burial in the roman flag sanctuary (aeDes) of Augustianis at the Later tOwn parish church's Crypt (traismauer/austria)</strong>. The project investigates a burial found in the crypt of the town parish church of Traismauer (Austria). It applies archaeothanatological, anthropological, archaeogenetic, and radiocarbon dating methods as well as, for visualizations, mobile 3d photogrammetry, machine learning, and virtual reconstruction to re-evaluate previous findings and enhance our understanding of the historical context.</p>
      <p>Complimentary to the long-term archived data on Phaidra, this website serves as an <strong></strong>interactive project archive</strong> for the CADALOC project, providing streamlined access to the research findings.</p>
          <p>
        To streamline implementation and optimize workflows regarding the visualization of 3d recorded objects, we use built-in viewers from apps like 
        <a href="https://poly.cam" target="_blank">Polycam</a> and platforms such as 
        <a href="https://sketchfab.com" target="_blank">Sketchfab</a> instead of integrating custom open source viewers like
        <a href="https://threejs.org" target="_blank">Three.js</a>, or 
        <a href="https://cadaloc.github.io/GaussianSplats3D/" target="_blank">GaussianSplats3D</a>. This simplifies the process while providing access to 
        built-in social networks and dedicated communities. For programming tasks on GitHub, we leverage 
        <a href="https://chat.openai.com" target="_blank">ChatGPT</a> and 
        <a href="https://gemini.google.com" target="_blank">Google Gemini</a> to enhance efficiency. 
    </p>
    
    </div>
    <div class="section">
        <h2>Researchers</h2>
        <div class="researcher">
            <p>
                <span class="researcher-name">Sylvia Kirchengast</span>
                <a href="https://orcid.org/0000-0002-3220-7271" target="_blank" rel="noopener noreferrer" class="orcid-link">
                    <img src="https://info.orcid.org/wp-content/uploads/2019/11/orcid_16x16.png" alt="ORCID iD" width="16" height="16">
                     ORCID
                </a>
                </p>
        </div>
        <div class="researcher">
             <p>
                <span class="researcher-name">Dominik Hagmann</span>
                <a href="https://orcid.org/0000-0002-4481-6234" target="_blank" rel="noopener noreferrer" class="orcid-link">
                    <img src="https://info.orcid.org/wp-content/uploads/2019/11/orcid_16x16.png" alt="ORCID iD" width="16" height="16">
                    ORCID
                </a>
            </p>
        </div>
    </div>
    <div class="section">
      <h2>Publications</h2>
      <p><a href="finalPapers.html" class="link">View Final Papers (work in progress)</a></p>
    </div>
    <div class="section">
      <h2>Research and Data</h2>
      <p>All research data is archived in the long-term repository Phaidra.</p>
      <p><a href="https://phaidra.univie.ac.at/" class="link" target="_blank">Access the archived datasets on Phaidra</a></p>
    </div>
    <div class="section">
      <h2>3D Gaussian Splats</h2>
      <div class="model-unit">
        <iframe src="https://poly.cam/capture/170a4403-29c8-407c-89b7-f4a24b32110c/embed" title="Polycam capture viewer" style="height:100%;width:100%;max-height:720px;max-width:1280px;min-height:280px;min-width:280px" frameborder="0"></iframe>
        <div class="model-title" id="title1">3D Gaussian Splatting Model of the Crypt at Traismauer/Austria</div>
        <div class="model-description" id="description1">The model was created in 2023 using photogrammetry with a medium-quality, straightforward photo set and reconstructed via Polycam and the 3D Scanner App by Laan Labs.</div>
        <a id="download1" class="download-button" target="_blank" href="https://services.phaidra.univie.ac.at/api/object/o:2122324/download">Download Model</a>
      </div>

       <div class="model-unit">
        <div id="viewer2" class="viewer"></div>
        </div>

    </div>
    <div class="section">
      <h2>Textured 3D Models</h2>
      <div class="mesh-container">
        <div class="model-unit">
          <div id="mesh1" class="mesh"></div>
          <div class="model-title" id="meshTitle1">3D Textured Model of a Human Burial from the Crypt at Traismauer/Austria</div>
          <div class="model-description" id="meshDescription1">The model was generated in 2022 using Image-Based Modeling (IBM) 3D reconstruction via the Polycam app, based on a photoset captured with an iPhone 13 Pro Max.</div>
          <a id="meshDownload1" class="download-button" target="_blank">Download Model</a>
        </div>
        <div class="model-unit">
          <div id="mesh2" class="mesh"></div>
          <div class="model-title" id="meshTitle2">Titel des zweiten Modells</div>
          <div class="model-description" id="meshDescription2">Beschreibung des zweiten Modells.</div>
          <a id="meshDownload2" class="download-button" target="_blank" href="https://services.phaidra.univie.ac.at/api/object/o:2118794/download">Download Model</a>
        </div>
        <div class="model-unit">
          <div id="mesh3" class="mesh"></div>
          <div class="model-title" id="meshTitle3">Titel des dritten Modells</div>
          <div class="model-description" id="meshDescription3">Beschreibung des dritten Modells.</div>
          <a id="meshDownload3" class="download-button" target="_blank">Download Model</a>
        </div>
        <div class="model-unit">
          <div id="mesh4" class="mesh"></div>
          <div class="model-title" id="meshTitle4">Titel des vierten Modells</div>
          <div class="model-description" id="meshDescription4">Beschreibung des vierten Modells.</div>
          <a id="meshDownload4" class="download-button" target="_blank">Download Model</a>
        </div>
        <div class="model-unit">
          <div id="mesh5" class="mesh"></div>
          <div class="model-title" id="meshTitle5">Titel des fünften Modells</div>
          <div class="model-description" id="meshDescription5">Beschreibung des fünften Modells.</div>
          <a id="meshDownload5" class="download-button" target="_blank">Download Model</a>
        </div>
        <div class="model-unit">
          <div id="mesh6" class="mesh"></div>
          <div class="model-title" id="meshTitle6">Titel des sechsten Modells</div>
          <div class="model-description" id="meshDescription6">Beschreibung des sechsten Modells.</div>
          <a id="meshDownload6" class="download-button" target="_blank">Download Model</a>
        </div>
      </div>
    </div>
    <div class="footer">
      <p><a href="impressum.html" class="link">Impressum</a></p>
    </div>
  </div>

<script type="module">
import * as GaussianSplatsModule from 'https://cadaloc.github.io/GaussianSplats3D/build/gaussian-splats-3d.module.js';
const { GaussianSplats3D } = GaussianSplatsModule;

  document.addEventListener("DOMContentLoaded", () => {
    let viewer1;

    function resizeCanvas() {
      if (viewer1) {
        viewer1.setSize(viewer1.canvas.parentElement.offsetWidth, viewer1.canvas.parentElement.offsetHeight);
      }
    }

    viewer1 = new GaussianSplats3D();
    document.getElementById("viewer1").appendChild(viewer1.canvas);

    viewer1.load("https://services.phaidra.univie.ac.at/api/object/o:2122324/download")
      .then(() => {
        console.log("Viewer1 successfully loaded");
        resizeCanvas();
      })
      .catch(e => console.error("Error loading Viewer1:", e));

    window.addEventListener('resize', resizeCanvas);
  });
</script>


  <script>
    function loadModel(containerId, modelUrl) {
      const container = document.getElementById(containerId);
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
      const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
      renderer.setSize(container.clientWidth, container.clientHeight);
      container.appendChild(renderer.domElement);

      // Improved lighting:
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
      scene.add(ambientLight);
      const directionalLight = new THREE.DirectionalLight(0xfaf0e6, 1.8);
      directionalLight.position.set(1, 2, 1).normalize();
      scene.add(directionalLight);

      const loader = new THREE.GLTFLoader();
      loader.load(modelUrl, function (gltf) {
        const model = gltf.scene;
        scene.add(model);
        camera.position.set(0, 3, 0);
        camera.lookAt(0, 0, 0);
        camera.up.set(0, 0, -1);
        const controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;

        function animate() {
          requestAnimationFrame(animate);
          controls.update();
          renderer.render(scene, camera);
        }
        animate();
      }, undefined, function (error) {
        console.error('An error occurred while loading the model:', error);
      });
    }

    // Example calls to load the GLTF models (replace placeholders)
    loadModel("mesh1", "https://services.phaidra.univie.ac.at/api/object/o:2118793/download");
    loadModel("mesh2", "https://services.phaidra.univie.ac.at/api/object/o:2118794/download");
    loadModel("mesh3", "https://services.phaidra.univie.ac.at/api/object/o:2118793/download");
    loadModel("mesh4", "https://services.phaidra.univie.ac.at/api/object/o:2118794/download");
    loadModel("mesh5", "mesh5"); //  REPLACE with actual URL!
    loadModel("mesh6", "mesh6"); //  REPLACE with actual URL!
  </script>
</body>
</html>
